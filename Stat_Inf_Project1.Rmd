---
title: 'Statistical Inference : Course Project'
author: "Craig Garlick"
date: "3 July 2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Part 1 : Simulation Exercise

As described in the exercise, this project compares the exponential distribution to the central limit theorum. 
For reference, an exponential distribution controlled by a rate of lambda has the following properties:

1. mean = 1/lambda
2. variance = 1/lambda^2 (and therefore standard deviation is equal to the mean)

The below figure illustrates the exponential function:
```{r exponential, echo=FALSE}
lambda <- 0.2
n <- 1000
hist(rexp(1000, lambda))
```

### Simulations

For this exercise we'll be investigating the distribution of 40 exponentials across 1000 simulations, using a fixed rate of 0.2. The following code will generate all our data, by running the full number of simulations across all required distributions and arranging into a matrix, ie 1000 rows of 40..
```{r run simulations}
lambda <- 0.2
no_of_simulations <- 1000
no_of_exponentials <- 40
distribution_matrix <- matrix(rexp(no_of_simulations * no_of_exponentials, lambda), ncol = no_of_exponentials, nrow = no_of_simulations)
```

### Comparisons


```{r means}
library(ggplot2)

means_of_distributions <- apply(distribution_matrix, 1, mean)

sample_mean <- mean(means_of_distributions)
theoretical_mean <- 1/lambda

sample_variance <- var(means_of_distributions)
theoretical_variance <- 1/(lambda^2 * no_of_exponentials)
```
The sampled mean of the the simulations is `r sample_mean`, very close to the theoretical mean of `r theoretical_mean`
The sampled variance of the above distribution is `r sample_variance`, very close to the theoretical variance of `r theoretical_variance`

```{r plot distribution}
means_plot <- ggplot(data.frame(means_of_distributions), aes(means_of_distributions)) + geom_histogram(binwidth = 0.1) + geom_vline(xintercept =  sample_mean , col='red') + geom_vline(xintercept = theoretical_mean, col='blue')
means_plot
```
